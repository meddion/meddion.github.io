{"version":3,"sources":["serviceWorker.js","utils/crud.js","utils/auth.js","utils/helpers.js","components/Reusable.js","components/SocialList.js","components/Header/index.js","components/Loading.js","components/Errors/index.js","components/FeedNav/index.js","components/Post/index.js","components/CreatePost/index.js","components/Posts/index.js","pages/Feed.js","pages/Post.js","components/newQAComponent/index.js","pages/DeletePost.js","pages/About.js","pages/Login.js","pages/Logout.js","components/App.js","pages/Page404.js","index.js"],"names":["Boolean","window","location","hostname","match","axios","defaults","withCredentials","API_URL","process","constructor","authorizationCheck","async","this","authStatus","post","concat","data","ok","error","isUserAuthorized","authSubject","BehaviorSubject","getValue","asObservable","status","isAuthorized","next","AppContext","React","createContext","validatePost","title","content","length","insideContainer","Component","props","createElement","className","insideSection","id","href","picNames","Links","Fragment","Link","to","Consumer","_ref2","withRouter","_ref","headerStyle","pathname","backgroundImage","minHeight","Math","floor","random","style","data-target","SocialList","LoadingBlock","color","size","ReactLoading","type","height","width","SimpleError","MinimalisticError","_ref3","ErrorBlock","FeedNav","arguments","state","isLoading","isError","postsPerPage","totalNumOfPosts","resp","get","Error","body","message","fetchPostsInfo","console","setState","render","isNextDisabled","currentPageNum","ceil","isPrevDisabled","prev","dayjs","extend","relativeTime","PostCard","children","Post","PostEdit","inputChangeHandler","onChange","value","placeholder","name","PostEditHeader","_ref4","creation_time","last_edited","PostTime","_ref5","creationTime","lastEdited","unix","fromNow","PostNav","_ref6","history","onClick","goBack","CreatePost","editTitle","editContent","e","target","errorMsg","handleFormSubmit","preventDefault","trim","validateError","newPost","createPost","appendPostHandler","_objectSpread","Date","now","btnDisabled","onSubmit","Posts","posts","map","i","substring","key","hover","Feed","pageNum","prevState","unshift","1","setPosts","urlParam","parseInt","params","fetchPosts","componentDidMount","getPosts","componentDidUpdate","prevProps","isPresentInPosts","context","contextType","super","cancelHandler","push","url","updatePostHandler","isTitleChanged","isContentChanged","put","updatedPost","updatePost","postId","isFetchingPostError","isEditMode","queryString","parse","search","edit","fetchPost","values","PostDiv","question","confirmAction","cancelAction","confirmBtnHandler","cancelBtnHandler","newQAComponent","delete","postID","deletePost","About","M","Parallax","init","document","querySelectorAll","Tabs","src","alt","Login","username","password","validateForm","err","loginUser","auth","data-length","htmlFor","logoutUser","PostAdvanced","FeedAdvanced","LogoutAdvanced","Logout","DeletePostAdvanced","DeletePost","LoginAdvanced","Page404Advanced","App","sub","stateChange","subscribe","Sidenav","componentWillUnmount","unsubscribe","Provider","Router","Header","Switch","NeedToBeUnauthorizedToSeeRoute","exact","path","redirect","component","ProtectedRoute","Route","rest","_objectWithoutProperties","_excluded","Redirect","Object","assign","_objectDestructuringEmpty","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d5b4a881.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import axios from \"axios\"\n\n// We enable to send cookies with a request\naxios.defaults.withCredentials = true\n\nconst API_URL = process.env.REACT_APP_API_URL\n\nconst isUserAuthorized = async () => {\n  try {\n    const resp = await axios.post(`${API_URL}account/login`)\n    return resp.data.ok\n  } catch (error) {}\n  return false\n}\n\nconst loginUser = async (name, password) => {\n  try {\n    const resp = await axios.post(`${API_URL}account/login`, {\n      name,\n      password,\n    })\n    if (!resp.data.ok) {\n      return \"The username and the password do not match.\"\n    }\n  } catch (error) {\n    return \"The internal server error has occurred.\"\n  }\n  return \"\"\n}\n\nconst logoutUser = async () => {\n  try {\n    const resp = await axios.post(`${API_URL}account/logout`)\n    if (!resp.data || !resp.data.ok) {\n      throw new Error(\"Couldn't perform logout properly.\")\n    }\n  } catch (error) {\n    return error.message\n  }\n  return \"\"\n}\n\nconst createPost = async newPost => {\n  let resp\n  try {\n    resp = await axios.post(`${API_URL}post/`, newPost)\n    if (!resp.data || !resp.data.ok) {\n      throw new Error(\n        \"Couldn't create a new post, reason: \" + resp.data.error,\n      )\n    }\n  } catch (error) {\n    return {\n      body: null,\n      error: error.message,\n    }\n  }\n  return {\n    body: resp.data.body,\n    error: \"\",\n  }\n}\n\nconst updatePost = async updatedPost => {\n  try {\n    const resp = await axios.put(`${API_URL}post/`, updatedPost)\n    if (!resp.data || !resp.data.ok) {\n      return \"Couldn't update the post, reason: \" + resp.data.error\n    }\n  } catch (error) {\n    return \"Failed to update the post.\"\n  }\n  return \"\"\n}\n\nconst deletePost = async postID => {\n  try {\n    const resp = await axios.delete(`${API_URL}post/${postID}`)\n    if (!resp.data || !resp.data.ok) {\n      return \"Couldn't delete the post, reason: \" + resp.data.error\n    }\n  } catch (error) {\n    return error.message\n  }\n  return \"\"\n}\n\nconst fetchPosts = async pageNum => {\n  let resp\n  try {\n    resp = await axios.get(\n      `${API_URL}posts/${pageNum}?sortByDate=asc`,\n    )\n    if (!resp.data.ok) throw new Error(resp.data.error)\n  } catch (error) {\n    return {\n      body: null,\n      error: error.message,\n    }\n  }\n  return {\n    body: resp.data.body,\n    error: \"\",\n  }\n}\n\nconst fetchPost = async postId => {\n  let resp\n  try {\n    resp = await axios.get(`${API_URL}post/${postId}`)\n    if (!resp.data.ok) throw new Error(\"\")\n  } catch (error) {\n    return {\n      body: null,\n      error: \"Failed to fetch the post's content and title.\",\n    }\n  }\n  return {\n    body: resp.data.body,\n    error: \"\",\n  }\n}\n\nconst fetchPostsInfo = async () => {\n  let resp\n  try {\n    resp = await axios.get(`${API_URL}posts/info`)\n    if (!resp.data.ok) {\n      throw new Error(resp.data.error)\n    }\n    if (\n      !resp.data.body.postsPerPage ||\n      !resp.data.body.totalNumOfPosts\n    ) {\n      throw new Error(\"on receiving a wrong data from the server\")\n    }\n  } catch (error) {\n    return {\n      body: null,\n      error: error.message,\n    }\n  }\n  return {\n    body: resp.data.body,\n    error: \"\",\n  }\n}\n\nexport {\n  isUserAuthorized,\n  loginUser,\n  logoutUser,\n  createPost,\n  updatePost,\n  deletePost,\n  fetchPost,\n  fetchPosts,\n  fetchPostsInfo,\n}\n","import { BehaviorSubject } from \"rxjs\"\nimport { isUserAuthorized } from \"./crud\"\n\nclass Auth {\n  constructor() {\n    this.authSubject = new BehaviorSubject(false)\n    this.authorizationCheck()\n  }\n\n  get isAuthorized() {\n    return this.authSubject.getValue()\n  }\n\n  get stateChange() {\n    return this.authSubject.asObservable()\n  }\n\n  set authStatus(status) {\n    if (status === this.isAuthorized) {\n      return\n    }\n    this.authSubject.next(status)\n  }\n\n  authorizationCheck = async () => {\n    this.authStatus = await isUserAuthorized()\n  }\n}\n\nexport default new Auth()\n","import React from \"react\"\n\nconst AppContext = React.createContext()\n\nfunction validatePost(title, content) {\n  if (content === \"\") {\n    return \"The content of the post cannot be empty.\"\n  }\n  if (title.length > 70) {\n    return \"Title couldn't be more then 70 symbols long.\"\n  }\n  if (content.length > 10000) {\n    return \"The content of the post couldn't be more then 10000 symbols long.\"\n  }\n  return \"\"\n}\n\nexport { validatePost, AppContext }\n","import React from \"react\"\n\nconst insideContainer = Component => props => (\n  <div className=\"container\">\n    <Component {...props} />\n  </div>\n)\n\nconst insideSection = Component => props => (\n  <section className=\"section\">\n    <Component {...props} />\n  </section>\n)\n\nexport { insideContainer, insideSection }\n","import React from \"react\"\n\nexport default () => {\n  return (\n    <ul id=\"socials-list\">\n      <li>\n        <a className=\"waves-effect\" href=\"https://github.com/meddion\">\n          Github\n        </a>\n      </li>\n      <li>\n        <a className=\"waves-effect\" href=\"https://t.me/Medionn\">\n          Telegram\n        </a>\n      </li>\n    </ul>\n  )\n}\n","import React, { Fragment } from \"react\"\nimport { withRouter, Link } from \"react-router-dom\"\n\nimport { AppContext } from \"../../utils/helpers\"\n\nimport SocialList from \"./../SocialList\"\nimport \"./Header.css\"\n\nconst picNames = [\"night\", \"lands\", \"blooming\"]\n\nconst Header = ({ location }) => {\n  let headerStyle\n  if (location.pathname === \"/about\") {\n    headerStyle = {\n      backgroundImage: \"url(/images/header_background/flowers.jpg)\",\n      minHeight: \" 450px\",\n    }\n  } else if (\n    location.pathname === \"/\" ||\n    location.pathname === \"/1\"\n  ) {\n    headerStyle = {\n      backgroundImage: `url(/images/header_background/${\n        picNames[Math.floor(Math.random() * picNames.length)]\n      }.jpg)`,\n      minHeight: \" 250px\",\n    }\n  }\n  return (\n    <header style={headerStyle}>\n      <nav className=\"nav-wrapper transparent\">\n        <div className=\"container\">\n          <Link to=\"/1\" className=\"brand-logo\">\n            <span className=\"flow-text\">\n              {process.env.REACT_APP_SITE_TITLE}\n            </span>\n          </Link>\n          <a\n            href=\"#menu\"\n            className=\"sidenav-trigger\"\n            data-target=\"mobile-links\"\n          >\n            <i className=\"material-icons\">menu</i>\n          </a>\n          <ul id=\"link-list\" className=\"hide-on-med-and-down right\">\n            <Links />\n          </ul>\n        </div>\n      </nav>\n\n      <ul id=\"mobile-links\" className=\"sidenav grey darken-4\">\n        <ul className=\"grey darken-3\">\n          <li>\n            <span className=\"subheader grey-text text-darken-1\">Menu</span>\n          </li>\n          <Links />\n          <li>\n            <div className=\"divider grey\"></div>\n          </li>\n        </ul>\n\n        <li>\n          <span className=\"subheader grey-text text-darken-1\">\n            Me on socials\n          </span>\n        </li>\n        <SocialList />\n      </ul>\n    </header>\n  )\n}\n\nconst Links = () => (\n  <Fragment>\n    <li>\n      <Link to=\"/1\" className=\"sidenav-close waves-effect\">\n        <span>Feed</span>\n      </Link>\n    </li>\n\n    <li>\n      <Link to=\"/about\" className=\"sidenav-close waves-effect\">\n        About me\n      </Link>\n    </li>\n    <li>\n      <AppContext.Consumer>\n        {({ isAuthorized }) =>\n          isAuthorized ? (\n            <Link to=\"/logout\" className=\"sidenav-close waves-effect\">\n              Logout\n            </Link>\n          ) : (\n            <Link to=\"/login\" className=\"sidenav-close waves-effect\">\n              Login\n            </Link>\n          )\n        }\n      </AppContext.Consumer>\n    </li>\n  </Fragment>\n)\n\nexport default withRouter(Header)\n","import React from \"react\"\nimport ReactLoading from \"react-loading\"\n\nconst LoadingBlock = ({ color = \"grey\", size = \"32\" }) => (\n  <ReactLoading\n    id=\"loading-block\"\n    className=\"row\"\n    type=\"spin\"\n    color={color}\n    height={`${size}px`}\n    width={`${size}px`}\n  />\n)\n\nconst withLoadingBlock = Component => ({ isLoading, ...rest }) => {\n  if (isLoading) {\n    return <LoadingBlock />\n  }\n  return <Component {...rest} />\n}\n\nexport { LoadingBlock, withLoadingBlock }\n","import React from \"react\"\n\nimport \"./Errors.css\"\n\nconst SimpleError = ({ error }) => {\n  return (\n    <div id=\"simple-error\" className=\"grey darken-4\">\n      <p>{error}</p>\n    </div>\n  )\n}\n\nconst TitledErrorBlock = ({ title, content }) => (\n  <div id=\"error-block\" className=\"row grey darken-4 white-text\">\n    <div className=\"col s12 z-depth-1\">\n      <h3>{title}</h3>\n      <p className=\"flow-text\">{content}</p>\n    </div>\n  </div>\n)\n\nconst MinimalisticError = ({ content }) => (\n  <div className=\"row\">\n    <div className=\"col s12 z-depth-0 center-align\">\n      <p className=\"grey-text \">{content}</p>\n    </div>\n  </div>\n)\n\nconst withErrorBlock = ErrorBlock => Component => ({\n  errorTitle = \"Oppss\",\n  errorContent = \"Something went wrong...\",\n  isError,\n  ...rest\n}) => {\n  if (isError) {\n    return <ErrorBlock title={errorTitle} content={errorContent} />\n  }\n  return <Component {...rest} />\n}\n\nconst withDefaultErrorBlock = withErrorBlock(TitledErrorBlock)\n\nexport {\n  SimpleError,\n  TitledErrorBlock,\n  MinimalisticError,\n  withDefaultErrorBlock,\n  withErrorBlock,\n}\n","import React, { Component } from \"react\"\nimport { Link } from \"react-router-dom\"\n\nimport { fetchPostsInfo } from \"../../utils/crud\"\n\nimport { LoadingBlock } from \"../Loading\"\nimport { MinimalisticError } from \"../Errors\"\n\nimport \"./FeedNav.css\"\n\nexport default class FeedNav extends Component {\n  state = {\n    isLoading: true,\n    isError: false,\n    postsPerPage: 0,\n    totalNumOfPosts: 0,\n  }\n\n  async componentDidMount() {\n    const resp = await fetchPostsInfo()\n    if (resp.error !== \"\") {\n      console.error(resp.error)\n      this.setState({ isError: true })\n    } else {\n      const { postsPerPage, totalNumOfPosts } = resp.body\n      this.setState({ postsPerPage, totalNumOfPosts })\n    }\n    this.setState({ isLoading: false })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <LoadingBlock />\n    }\n\n    if (this.state.isError) {\n      return (\n        <MinimalisticError content=\"Navigation bar wasn't loaded.\" />\n      )\n    }\n\n    const isNextDisabled =\n      this.props.currentPageNum <\n      Math.ceil(this.state.totalNumOfPosts / this.state.postsPerPage)\n        ? \"\"\n        : \"disabled\"\n    const isPrevDisabled =\n      this.props.currentPageNum > 1 ? \"\" : \"disabled\"\n    const prev = this.props.currentPageNum - 1\n    const next = this.props.currentPageNum + 1\n    return (\n      <div className=\"row text-white\">\n        <div id=\"buttons\" className=\"col s12 m8 left-align\">\n          <Link\n            to={`/${prev}`}\n            className={`btn-small ${isPrevDisabled} blue navBtn`}\n          >\n            <i className=\"material-icons left\">arrow_back</i>Prev\n          </Link>\n          <Link\n            to={`/${next}`}\n            className={`btn-small ${isNextDisabled} blue navBtn`}\n          >\n            <i className=\"material-icons right\">arrow_forward</i>\n            Next\n          </Link>\n        </div>\n        <div\n          id=\"page-counter\"\n          className=\"col s12 m4 right-align grey-text\"\n        >\n          Page {this.props.currentPageNum}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nimport dayjs from \"dayjs\"\nimport relativeTime from \"dayjs/plugin/relativeTime\"\n\nimport \"./Post.css\"\n\ndayjs.extend(relativeTime)\n\nconst PostCard = ({ children }) => (\n  <div id=\"post\" className=\"card white-text grey darken-4 \">\n    <div className=\"card-content\">{children}</div>\n  </div>\n)\n\nconst Post = ({ title, content }) => {\n  return (\n    <PostCard>\n      <span className=\"card-title center-align\">\n        <h5>{title}</h5>\n      </span>\n      <p>{content}</p>\n    </PostCard>\n  )\n}\n\nconst PostEdit = ({ title, content, inputChangeHandler }) => {\n  return (\n    <PostCard>\n      <span className=\"card-title center-align truncate\">\n        <textarea\n          onChange={inputChangeHandler}\n          value={title}\n          placeholder=\"***\"\n          name=\"editTitle\"\n          id=\"title\"\n          className=\"materialize-textarea white-text center-align\"\n        />\n      </span>\n      <textarea\n        onChange={inputChangeHandler}\n        value={content}\n        placeholder=\"...\"\n        name=\"editContent\"\n        id=\"content\"\n        type=\"text\"\n        className=\"materialize-textarea white-text\"\n      />\n    </PostCard>\n  )\n}\n\nconst PostEditHeader = ({ post }) => (\n  <div id=\"post-edit-header\" className=\"right-align\">\n    <Link\n      className=\"grey-text text-darken-2\"\n      to={`/post/${post.id}?edit=true`}\n    >\n      Edit\n    </Link>\n    <Link\n      className=\"grey-text text-darken-1\"\n      to={{\n        pathname: `/post/${post.id}/delete`,\n        data: {\n          title: post.title,\n          content: post.content,\n          creation_time: post.creation_time,\n          last_edited: post.last_edited,\n        },\n      }}\n    >\n      Remove\n    </Link>\n  </div>\n)\n\nconst PostTime = ({ creationTime, lastEdited }) => {\n  creationTime = dayjs.unix(creationTime).fromNow()\n  lastEdited =\n    lastEdited !== 0 ? dayjs.unix(lastEdited).fromNow() : \"\"\n  return (\n    <div id=\"post-date\" className=\"right-align grey-text\">\n      Posted {creationTime}\n      {lastEdited === \"\" || creationTime === lastEdited || (\n        <span> [changed {lastEdited}]</span>\n      )}\n    </div>\n  )\n}\n\nconst PostNav = ({ history, children }) => (\n  <div className=\"row\">\n    <div className=\"col s6 left-align\">\n      <button className=\"btn grey darken-3\" onClick={history.goBack}>\n        <i className=\"material-icons left\">arrow_back</i>Back\n      </button>\n    </div>\n    <div className=\"col s6 right-align\">{children}</div>\n  </div>\n)\n\nexport { Post, PostEdit, PostEditHeader, PostTime, PostNav }\n","import React, { Component } from \"react\"\n\nimport { createPost } from \"../../utils/crud\"\nimport { validatePost } from \"../../utils/helpers\"\n\nimport { SimpleError } from \"../Errors\"\nimport { PostEdit } from \"../Post\"\nimport \"./CreatePost.css\"\n\nexport default class CreatePost extends Component {\n  state = {\n    editTitle: \"\",\n    editContent: \"\",\n    error: \"\",\n  }\n\n  inputChangeHandler = e => {\n    this.setState({ [e.target.name]: e.target.value, errorMsg: \"\" })\n  }\n\n  handleFormSubmit = async e => {\n    e.preventDefault()\n    const editTitle = this.state.editTitle.trim()\n    const editContent = this.state.editContent.trim()\n    const validateError = validatePost(editTitle, editContent)\n    if (validateError !== \"\") {\n      this.setState({ error: validateError })\n      return\n    }\n\n    let newPost = {\n      title: editTitle,\n      content: editContent,\n    }\n\n    const resp = await createPost(newPost)\n\n    if (resp.error !== \"\") {\n      console.error(resp.error)\n      this.setState({ error: resp.error })\n      return\n    }\n\n    this.props.appendPostHandler({\n      ...newPost,\n      id: resp.body.id,\n      creation_time: Date.now() / 1000,\n      last_edited: 0,\n    })\n\n    this.setState({\n      editTitle: \"\",\n      editContent: \"\",\n    })\n  }\n\n  render() {\n    let btnDisabled = \"\"\n    if (this.state.editContent.trim().length === 0) {\n      btnDisabled = \"disabled\"\n    }\n    return (\n      <div id=\"create-post\" className=\"row\">\n        {this.state.error && (\n          <div className=\"col s12\">\n            <SimpleError error={this.state.error} />\n          </div>\n        )}\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"col s12\">\n            <PostEdit\n              title={this.state.editTitle}\n              content={this.state.editContent}\n              inputChangeHandler={this.inputChangeHandler}\n            />\n          </div>\n          <div className=\"col s12\">\n            <div\n              id=\"create-post-footer\"\n              className=\"input-field right\"\n            >\n              <button className={`btn blue ${btnDisabled}`}>\n                Post\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nimport { AppContext } from \"./../../utils/helpers\"\n\nimport { Post, PostTime, PostEditHeader } from \"./../Post\"\nimport \"./Posts.css\"\n\nexport default function Posts({ posts }) {\n  return (\n    <div id=\"posts\" className=\"row\">\n      {posts.map((post, i) => {\n        let content = post.content\n        if (content.length > 400) {\n          content = content.substring(0, 400) + \" ...\"\n        }\n        let title = post.title\n        if (title.length === 0) {\n          title = \"***\"\n        }\n        return (\n          <div key={i} className=\"col s12\">\n            <div className=\"row\">\n              <AppContext.Consumer>\n                {({ isAuthorized }) =>\n                  isAuthorized && (\n                    <div className=\"col s12\">\n                      <PostEditHeader post={post} />\n                    </div>\n                  )\n                }\n              </AppContext.Consumer>\n              <div className=\"col s12\">\n                <Link\n                  className=\"post-hover\"\n                  to={{\n                    pathname: `/post/${post.id}`,\n                    data: {\n                      title: post.title,\n                      content: post.content,\n                      creation_time: post.creation_time,\n                      last_edited: post.last_edited,\n                    },\n                  }}\n                >\n                  <Post\n                    hover={true}\n                    title={post.title}\n                    content={post.content}\n                  />\n                </Link>\n              </div>\n              <div className=\"col s12\">\n                <PostTime\n                  creationTime={post.creation_time}\n                  lastEdited={post.last_edited}\n                />\n              </div>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n","import React, { Component, Fragment } from \"react\"\n\nimport { fetchPosts } from \"./../utils/crud\"\nimport { AppContext } from \"../utils/helpers\"\n\nimport { LoadingBlock } from \"./../components/Loading\"\nimport { MinimalisticError } from \"./../components/Errors\"\nimport FeedNav from \"./../components/FeedNav\"\nimport CreatePost from \"./../components/CreatePost\"\nimport Posts from \"./../components/Posts\"\n\nimport \"./Feed.css\"\n\nexport default class Feed extends Component {\n  static contextType = AppContext\n\n  state = {\n    isLoading: true,\n    isError: false,\n    posts: {},\n    pageNum: 1,\n  }\n\n  setPosts(key, data) {\n    this.setState(prevState => ({\n      posts: { ...prevState.posts, [key]: data },\n    }))\n  }\n\n  appendPostHandler = newPost => {\n    this.setState(prevState => {\n      if (prevState.posts[1]) {\n        prevState.posts[1].unshift(newPost)\n      } else {\n        prevState.posts = { 1: [newPost] }\n      }\n      return { posts: prevState.posts }\n    })\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const urlParam = parseInt(props.match.params.id)\n    if (urlParam && state.pageNum !== urlParam) {\n      return { pageNum: urlParam }\n    }\n    return null\n  }\n\n  async getPosts() {\n    const resp = await fetchPosts(this.state.pageNum)\n    if (resp.error !== \"\") {\n      console.error(resp.error)\n      this.setState({ isError: true })\n    } else {\n      this.setPosts(this.state.pageNum, resp.body)\n    }\n    this.setState({ isLoading: false })\n  }\n\n  componentDidMount() {\n    this.getPosts()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const isPresentInPosts = this.state.pageNum in this.state.posts\n    if (\n      prevState.pageNum !== this.state.pageNum &&\n      !isPresentInPosts\n    ) {\n      this.getPosts()\n    } else if (isPresentInPosts && this.state.isError) {\n      this.setState({ isError: false })\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <LoadingBlock />\n    }\n\n    return (\n      <div className=\"row\">\n        {this.context.isAuthorized && this.state.pageNum === 1 && (\n          <div className=\"col s12 m8 offset-m2 l6 offset-l3\">\n            <CreatePost appendPostHandler={this.appendPostHandler} />\n          </div>\n        )}\n        <div className=\"col s12 m8 offset-m2 l6 offset-l3\">\n          {this.state.isError ? (\n            <MinimalisticError content=\"My thoughts weren't loaded.\" />\n          ) : (\n            <Fragment>\n              <Posts\n                posts={this.state.posts[this.state.pageNum] || []}\n                history={this.props.history}\n              />\n              <FeedNav currentPageNum={this.state.pageNum} />\n            </Fragment>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport queryString from \"query-string\"\n\nimport { validatePost, AppContext } from \"../utils/helpers\"\nimport { fetchPost, updatePost } from \"./../utils/crud\"\n\nimport { LoadingBlock } from \"./../components/Loading\"\nimport {\n  Post as PostDiv,\n  PostEdit,\n  PostNav,\n  PostTime,\n} from \"./../components/Post\"\nimport {\n  SimpleError,\n  MinimalisticError,\n} from \"./../components/Errors\"\nimport \"./Post.css\"\n\nexport default class Post extends Component {\n  static contextType = AppContext\n\n  constructor(props) {\n    super(props)\n    if (props.match.params.id.length !== 24) {\n      this.props.history.push(\"/page-was-not-found/error404\")\n    }\n    this.state = {\n      title: \"\",\n      content: \"\",\n      editTitle: \"\",\n      editContent: \"\",\n      creationTime: 0,\n      lastEdited: 0,\n      postId: props.match.params.id,\n      isFetchingPostError: false,\n      error: \"\",\n      isLoading: true,\n      isEditMode: queryString.parse(this.props.location.search).edit,\n    }\n  }\n\n  cancelHandler = () => {\n    this.setState(prevState => ({\n      editTitle: prevState.title,\n      editContent: prevState.content,\n    }))\n    this.props.history.push(this.props.match.url)\n  }\n\n  updatePostHandler = async () => {\n    const editTitle = this.state.editTitle.trim()\n    const editContent = this.state.editContent.trim()\n    const isTitleChanged = this.state.title !== editTitle\n    const isContentChanged = this.state.content !== editContent\n\n    if (!isTitleChanged && !isContentChanged) {\n      this.props.history.push(this.props.match.url)\n      return\n    }\n\n    const validateError = validatePost(editTitle, editContent)\n    if (validateError !== \"\") {\n      this.setState({ error: validateError })\n      return\n    }\n\n    const error = await updatePost({\n      id: this.state.postId,\n      title: editTitle,\n      content: editContent,\n    })\n    if (error !== \"\") {\n      console.error(error)\n      this.setState({ error })\n      return\n    }\n    this.props.history.push(this.props.match.url)\n  }\n\n  inputChangeHandler = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  async componentDidMount() {\n    if (this.props.location.data) {\n      const {\n        title,\n        content,\n        creation_time,\n        last_edited,\n      } = this.props.location.data\n      this.setState({\n        title,\n        content,\n        editTitle: title,\n        editContent: content,\n        creationTime: creation_time,\n        lastEdited: last_edited,\n      })\n    } else {\n      const resp = await fetchPost(this.state.postId)\n      if (resp.error !== \"\") {\n        console.error(resp.error)\n        this.setState({ isFetchingPostError: true })\n      } else {\n        const {\n          title,\n          content,\n          creation_time,\n          last_edited,\n        } = resp.body\n        this.setState({\n          title,\n          content,\n          editTitle: title,\n          editContent: content,\n          creationTime: creation_time,\n          lastEdited: last_edited,\n        })\n      }\n    }\n    this.setState({ isLoading: false })\n  }\n\n  componentDidUpdate() {\n    if (!this.context.isAuthorized) {\n      return\n    }\n    const values = queryString.parse(this.props.location.search)\n    if (!this.state.isEditMode && values.edit) {\n      this.setState({ isEditMode: true, error: \"\" })\n    } else if (this.state.isEditMode && !values.edit) {\n      this.setState({ isEditMode: false, error: \"\" })\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <LoadingBlock />\n    }\n\n    if (this.state.isFetchingPostError) {\n      return <MinimalisticError content=\"Post doesn't exist.\" />\n    }\n    return (\n      <div id=\"post-wrapper\" className=\"row\">\n        <div className=\"col s12 m8 offset-m2 l6 offset-l3\">\n          <div className=\"col s12\">\n            <PostNav history={this.props.history}>\n              {this.context.isAuthorized &&\n                (this.state.isEditMode ? (\n                  <Fragment>\n                    <button\n                      className=\"btn nav-btn green\"\n                      onClick={this.cancelHandler}\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      className=\"btn nav-btn blue\"\n                      onClick={this.updatePostHandler}\n                    >\n                      Update\n                    </button>\n                  </Fragment>\n                ) : (\n                  <Fragment>\n                    <Link\n                      className=\"btn nav-btn red darken-3\"\n                      to={{\n                        pathname: `${this.props.match.url}/delete`,\n                        data: {\n                          title: this.state.title,\n                          content: this.state.content,\n                          creation_time: this.state.creationTime,\n                          last_edited: this.state.lastEdited,\n                        },\n                      }}\n                    >\n                      Delete\n                    </Link>\n                    <Link\n                      className=\"btn nav-btn orange darken-3\"\n                      to={`${this.props.match.url}?edit=true`}\n                    >\n                      Edit\n                    </Link>\n                  </Fragment>\n                ))}\n            </PostNav>\n          </div>\n          <div className=\"col s12\">\n            {this.state.error && (\n              <SimpleError error={this.state.error} />\n            )}\n          </div>\n\n          <div className=\"col s12\">\n            {this.context.isAuthorized && this.state.isEditMode ? (\n              <PostEdit\n                title={this.state.editTitle}\n                content={this.state.editContent}\n                inputChangeHandler={this.inputChangeHandler}\n              />\n            ) : (\n              <PostDiv\n                title={this.state.title || \"***\"}\n                content={this.state.content}\n              />\n            )}\n          </div>\n          <div className=\"col s12\">\n            <PostTime\n              creationTime={this.state.creationTime}\n              lastEdited={this.state.lastEdited}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\"\n\nimport { SimpleError } from \"../Errors\"\nimport \"./newQAComponent.css\"\n\nexport default (question, confirmAction, cancelAction) =>\n  class extends Component {\n    state = {\n      error: \"\",\n    }\n\n    confirmBtnHandler = async props => {\n      try {\n        await confirmAction(props)\n      } catch (error) {\n        this.setState({ error: error.message })\n      }\n    }\n\n    cancelBtnHandler = props => {\n      if (cancelAction) {\n        cancelAction(props)\n        return\n      }\n      props.history.goBack() // by default\n    }\n\n    render() {\n      return (\n        <div id=\"qa-component\" className=\"row valign-wrapper\">\n          <div className=\"col s6 offset-s3\">\n            <div className=\"row center-align\">\n              {this.state.error && (\n                <SimpleError error={this.state.error} />\n              )}\n              <div\n                id=\"title\"\n                className=\"col s12 center-align white-text\"\n              >\n                <h4>{question}</h4>\n              </div>\n              <div className=\"col s12 m6 right-align btnDiv\">\n                <button\n                  onClick={() => this.cancelBtnHandler(this.props)}\n                  className=\"btn btn-large waves-effect waves-light green\"\n                >\n                  Cancel\n                </button>\n              </div>\n              <div className=\"col s12 m6 left-align btnDiv\">\n                <button\n                  onClick={() => this.confirmBtnHandler(this.props)}\n                  type=\"button\"\n                  className=\"btn btn-large waves-effect waves-light blue\"\n                >\n                  Confirm\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    }\n  }\n","import { deletePost } from \"./../utils/crud\"\n\nimport newQAComponent from \"./../components/newQAComponent\"\n\nexport default newQAComponent(\n  \"Are you sure you wanna delete this post?\",\n  async props => {\n    const error = await deletePost(props.match.params.id)\n    if (error !== \"\") {\n      throw new Error(error)\n    }\n    props.history.push(\"/1\")\n  },\n  props =>\n    props.history.push({\n      pathname: `/post/${props.match.params.id}`,\n      data: props.location.data,\n    }),\n)\n","import React, {Fragment, Component} from \"react\"\n/* import EmailForm from \"../components/EmailForm\"*/\nimport M from \"materialize-css\"\nimport \"./About.css\"\n\nexport default class About extends Component {\n  componentDidMount() {\n    M.Parallax.init(document.querySelectorAll(\".parallax\"))\n    M.Tabs.init(document.querySelectorAll(\".tabs\"))\n  }\n  render() {\n    return (\n      <Fragment>\n        {/* <!-- services / tabs --> */}\n        <section\n          id=\"services\"\n          className=\"section grey darken-4 white-text\"\n        >\n          <div className=\"container\">\n            <div className=\"row \">\n              <div className=\"col s12 l6\">\n                <h2>Who am I?</h2>\n                <p>\n                  Uncaught ReferenceError: 'Volodymyr' is not defined           \n                </p>\n              </div>\n              <div className=\"col s12 l6 \">\n                <ul className=\"tabs grey darken-3 \">\n                  <li className=\"tab col s6\">\n                    <a href=\"#programming\">Programming</a>\n                  </li>\n                  <li className=\"tab col s6\">\n                    <a href=\"#hobbies\">Hobbies</a>\n                  </li>\n                </ul>\n                <div id=\"programming\" className=\"col s12\">\n                  <p>\n                    Not language evangelist. I use the right tool for the job. However, Go is my go to :)         \n                    </p>\n                </div>\n                <div id=\"hobbies\" className=\"col s12\">\n                  <p>\n                    I'm a passionate learner. I like to push my body physically. \n                    I do crossfit, run, cycle, hike and angle.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* <!-- parallax --> */}\n        <div className=\"parallax-container\">\n          <div className=\"parallax\">\n            <img\n              src=\"images/code.jpeg\"\n              alt=\"\"\n              className=\"responsive-img\"\n            />\n          </div>\n        </div>\n\n        {/* <!-- contact form --> */}\n        <section id=\"contact\" className=\" section grey darken-4\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <h2 className=\"white-text center-align\">\n                Get In Touch\n              </h2>\n            </div>\n          </div>\n        </section>\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from \"react\"\nimport auth from \"./../utils/auth\"\nimport { loginUser } from \"./../utils/crud\"\n\nimport { SimpleError } from \"./../components/Errors\"\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    error: \"\",\n  }\n\n  validateForm() {\n    const { username, password } = this.state\n    if (username.length < 3 || username.length > 32) {\n      return \"Username must contain 2 - 32 symbols in it.\"\n    }\n    if (password.length < 6 || password.length > 32) {\n      return \"Password must contain 6 - 32 symbols in it (without spaces).\"\n    }\n    return \"\"\n  }\n\n  inputChangeHandler = e => {\n    this.setState({\n      [e.target.name]: e.target.value.trim(),\n      error: \"\",\n    })\n  }\n\n  handleFormSubmit = async e => {\n    e.preventDefault()\n    const error = this.validateForm()\n    if (error !== \"\") {\n      this.setState({ error })\n      return\n    }\n    const err = await loginUser(\n      this.state.username,\n      this.state.password,\n    )\n    if (err !== \"\") {\n      this.setState({ error: err })\n      return\n    }\n    auth.authStatus = true\n    this.props.history.push(\"/1\")\n  }\n\n  render() {\n    return (\n      <form className=\"row\" onSubmit={this.handleFormSubmit}>\n        <div className=\"col s12 l6 offset-l3 center-align white-text\">\n          <h4>Login form</h4>\n          <div className=\"row left-align\">\n            <div className=\"col s12\">\n              <div className=\"input-field \">\n                <input\n                  onChange={this.inputChangeHandler}\n                  value={this.state.username}\n                  name=\"username\"\n                  type=\"text\"\n                  data-length=\"32\"\n                  className=\"white-text\"\n                />\n                <label htmlFor=\"username\">Username</label>\n              </div>\n              <div className=\"input-field\">\n                <input\n                  onChange={this.inputChangeHandler}\n                  value={this.state.password}\n                  name=\"password\"\n                  type=\"password\"\n                  className=\"validate white-text\"\n                />\n                <label htmlFor=\"password\">Password</label>\n              </div>\n            </div>\n            <div className=\"col s12\">\n              {this.state.error && (\n                <SimpleError error={this.state.error} />\n              )}\n            </div>\n            <div className=\"col s12\">\n              <button className=\"btn blue\" type=\"submit\">\n                Login\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport default Login\n","import auth from \"./../utils/auth\"\nimport { logoutUser } from \"./../utils/crud\"\n\nimport newQAComponent from \"./../components/newQAComponent\"\n\nexport default newQAComponent(\"Do you want to logout?\", async props => {\n  const error = await logoutUser()\n  if (error !== \"\") {\n    throw new Error(error)\n  }\n  auth.authStatus = false\n  props.history.push(\"/1\")\n})\n","import React, { Component } from \"react\"\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\"\nimport M from \"materialize-css\"\n\nimport auth from \"./../utils/auth\"\nimport { AppContext } from \"../utils/helpers\"\n\nimport { insideContainer, insideSection } from \"./Reusable\"\nimport Header from \"./Header\"\nimport Feed from \"./../pages/Feed\"\nimport Post from \"./../pages/Post\"\nimport DeletePost from \"./../pages/DeletePost\"\nimport About from \"./../pages/About\"\nimport Login from \"./../pages/Login\"\nimport Logout from \"./../pages/Logout\"\nimport Page404 from \"./../pages/Page404\"\n\nconst PostAdvanced = insideSection(Post)\nconst FeedAdvanced = insideSection(Feed)\nconst LogoutAdvanced = insideSection(Logout)\nconst DeletePostAdvanced = insideSection(DeletePost)\nconst LoginAdvanced = insideSection(insideContainer(Login))\nconst Page404Advanced = insideSection(insideContainer(Page404))\n\nexport default class App extends Component {\n  static sub = null\n  state = {\n    isAuthorized: false,\n    sub: null,\n  }\n\n  componentDidMount() {\n    this.sub = auth.stateChange.subscribe(isAuthorized =>\n      this.setState({ isAuthorized }),\n    )\n\n    M.Sidenav.init(document.querySelectorAll(\".sidenav\"))\n  }\n\n  componentWillUnmount() {\n    this.sub.unsubscribe()\n  }\n\n  render() {\n    return (\n      <AppContext.Provider\n        value={{ isAuthorized: this.state.isAuthorized }}\n      >\n        <Router>\n          <Header />\n          <Switch>\n            <NeedToBeUnauthorizedToSeeRoute\n              exact\n              path=\"/login\"\n              redirect=\"/\"\n              component={LoginAdvanced}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/logout\"\n              redirect=\"/login\"\n              component={LogoutAdvanced}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/post/:id/delete\"\n              redirect=\"/login\"\n              component={DeletePostAdvanced}\n            />\n            <Route exact path=\"/about\" component={About} />\n            <Route exact path=\"/post/:id\" component={PostAdvanced} />\n            <Route exact path=\"/:id?\" component={FeedAdvanced} />\n            <Route path=\"*\" component={Page404Advanced} />\n          </Switch>\n        </Router>\n      </AppContext.Provider>\n    )\n  }\n}\nconst ProtectedRoute = ({ redirect, ...rest }) => {\n  return (\n    <AppContext.Consumer>\n      {({ isAuthorized }) =>\n        !isAuthorized ? (\n          <Redirect to={redirect} />\n        ) : (\n          <Route {...rest} />\n        )\n      }\n    </AppContext.Consumer>\n  )\n}\n\nconst NeedToBeUnauthorizedToSeeRoute = ({ ...rest }) => {\n  return (\n    <AppContext.Consumer>\n      {({ isAuthorized }) => (\n        <AppContext.Provider value={{ isAuthorized: !isAuthorized }}>\n          <ProtectedRoute {...rest} />\n        </AppContext.Provider>\n      )}\n    </AppContext.Consumer>\n  )\n}\n","import React from \"react\"\n\nexport default function Page404() {\n  return (\n    <div className=\"container center-align white-text\">\n      <h1>404</h1>\n      <p>Page wasn't found.</p>\n    </div>\n  )\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport * as serviceWorker from \"./serviceWorker\"\nimport \"materialize-css\"\nimport \"./index.css\"\nimport App from \"./components/App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\nserviceWorker.unregister()\n"],"sourceRoot":""}